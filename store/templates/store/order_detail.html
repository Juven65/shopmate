{% extends 'store/partials/admin_base.html' %}

{% block content %}
<h3>Order #{{ order.id }} Details</h3>
<p><strong>Customer:</strong> {{ order.user.username }}</p>
<p><strong>Date Ordered:</strong> {{ order.date_ordered }}</p>
<p><strong>Status:</strong> {{ order.status }}</p>
<p><strong>Total Price:</strong> ₱{{ order.total_price }}</p>

<hr>

<h5>Ordered Items:</h5>
<ul>
  {% for item in items %}
    <li>{{ item.product.name }} ({{ item.quantity }}) - ₱{{ item.price }}</li>
  {% endfor %}
</ul>

<hr>

<form method="POST" class="mt-3">
  {% csrf_token %}
  <div class="mb-3">
    <label for="status" class="form-label">Update Status</label>
    <select name="status" id="status" class="form-select">
      <option value="Pending" {% if order.status == "Pending" %}selected{% endif %}>Pending</option>
      <option value="Shipped" {% if order.status == "Shipped" %}selected{% endif %}>Shipped</option>
      <option value="Delivered" {% if order.status == "Delivered" %}selected{% endif %}>Delivered</option>
    </select>
  </div>
  <button type="submit" class="btn btn-primary">Update Status</button>
</form>

<a href="{% url 'manage-orders' %}" class="btn btn-secondary mt-3">← Back to Manage Orders</a>
{% endblock %}
